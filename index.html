<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Laporan Keuangan Ultimate</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<header class="home-header">
  <div class="menu-icon" onclick="toggleMenu()">☰</div>
  <h1>Laporan Keuangan</h1>
</header>

<section class="home-dashboard">
  <div class="card income small">💰<strong>Pemasukan</strong><span id="homeIncome">Rp 0</span></div>
  <div class="card expense small">🛑<strong>Pengeluaran</strong><span id="homeExpense">Rp 0</span></div>
  <div class="card balance small">🏦<strong>Saldo</strong><span id="homeBalance">Rp 0</span></div>
</section>

<button class="btn-floating" id="btnAddNote" onclick="openForm()">➕ Tambah Catatan</button>

<nav id="sideMenu" class="side-menu">
  <button class="btn-close-small" onclick="toggleMenu()">❌</button>
  <ul>
    <li onclick="showHistory()">📋 History Transaksi</li>
    <li onclick="showChart()">📊 Diagram Pemasukan & Pengeluaran</li>
    <li onclick="showRestore()">🔄 Restore Backup</li>
  </ul>
</nav>

<div id="formModal" class="modal">
  <div class="modal-content animate-slide">
    <h3 id="formTitle">Tambah Transaksi</h3>
    <input type="date" id="dateInput">
    <input type="text" id="descInput" placeholder="Deskripsi">
    <input type="text" id="amountInput" placeholder="Jumlah">
    <select id="memberSelect" onchange="memberOptionChange()"></select>
    <input type="text" id="sourceInput" placeholder="Sumber Dana">
    <select id="typeInput">
      <option value="pemasukan">Pemasukan</option>
      <option value="pengeluaran">Pengeluaran</option>
    </select>
    <button class="btn-add" id="saveBtn">Simpan</button>
    <button class="btn-cancel" onclick="closeForm()">Batal</button>
  </div>
</div>

<div id="historyContainer" class="history-container animate-slide">
  <button class="btn-close" onclick="closeHistory()">❌</button>
  <h3>History Transaksi</h3>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th><input type="checkbox" id="selectAll" onclick="toggleSelectAll(this)"></th>
          <th>No</th>
          <th>Tanggal</th>
          <th>Deskripsi</th>
          <th>Anggota</th>
          <th>Sumber Dana</th>
          <th>Pemasukan</th>
          <th>Pengeluaran</th>
          <th>Aksi</th>
        </tr>
      </thead>
      <tbody id="transactionTable"></tbody>
    </table>
  </div>
  <button class="btn-exp" onclick="deleteSelected()">Hapus Terpilih</button>
  <button class="btn-exp" onclick="exportCSV()">Export CSV</button>
</div>

<div id="chartContainer" class="chart-container animate-slide">
  <button class="btn-close" onclick="closeChart()">❌ Tutup</button>
  <h3>Diagram Pemasukan & Pengeluaran</h3>
  <canvas id="incomeExpenseChart"></canvas>
</div>

<div id="restoreContainer" class="restore-container animate-slide">
  <button class="btn-close" onclick="closeRestore()">❌ Tutup</button>
  <h3>Restore Backup Harian</h3>
  <select id="backupSelect"></select>
  <button onclick="restoreBackupUI()">Restore</button>
</div>

<div id="toast"></div>
<div id="editTooltip"></div>

<script src="script.js"></script>
</body>
</html>
